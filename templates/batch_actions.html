<!DOCTYPE html>
<html lang="en">
<head>
    <title>Batch Actions - local-booru</title>
</head>
<body>
    {% include '_header.html' %}

    <form class="search-form" action="/batch_actions" method="get" autocomplete="off">
        <div class="autocomplete-container">
            <input
                type="text"
                id="search-input"
                name="q"
                value="{{ query }}"
                placeholder="Search tags (e.g. cat, sunset)"
                autocomplete="off"
            />
            <div id="suggestions-search" class="suggestions"></div>
        </div>
        <button type="submit">Search</button>
    </form>

    <div id="selection-controls">
        <button type="button" id="selectAllBtn">Select All on Page</button>
        <button type="button" id="deselectAllBtn">Deselect All on Page</button>
        <button type="button" id="clearAllBtn">Clear All Selections</button>
        <button type="button" id="undoBtn">Undo Last Tag Edit</button>
    </div>

    <div id="gallery-grid" class="gallery batch-gallery"></div>

    <div id="pagination" style="text-align: center; margin-top: 2rem;"></div>

    <div id="batch-edit-form">
        <h3>Batch Actions (<span id="selected-count">0</span> images selected)</h3>
        <div>
            <select id="actionSelect">
                <option value="add">Add Tags</option>
                <option value="remove">Remove Tags</option>
                <option value="replace">Replace Tags</option>
                <option value="delete">Delete Images</option>
            </select>
        </div>
        <div id="tags-input-container">
            <label for="batchTagsInput">Tags (comma-separated):</label>
            <div class="autocomplete-container">
                <input
                    type="text"
                    id="batchTagsInput"
                    name="tags"
                    placeholder="e.g. artist:name, character:name, general_tag"
                    autocomplete="off"
                />
                <div id="suggestions-batch" class="suggestions"></div>
            </div>
        </div>
        <button type="button" class="action-button" id="applyActionBtn">Apply Action</button>
    </div>

	<script src="/static/js/ui_helpers.js"></script>
	<script src="/static/js/saved_searches_manager.js"></script>
	<script src="/static/js/autocomplete.js"></script>
	<script src="/static/js/notifications.js"></script>
    <script src="/static/js/shared_gallery.js"></script>
    <script src="/static/js/batch_actions.js"></script>
</body>
</html>